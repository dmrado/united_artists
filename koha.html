<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Листинг 9.1</title>
    <script type="text/javascript">
        var cnv,stx,sel;
        //функция для вычисления последовательности точек кривой Коха
        function getPoints(a,b) {
            var p,k,i,j,phi;
            //массив с двумя начальными точками
            var pts= new Array(2);
            //Массивы - элементы
            for(i=0; i<pts.length; i++){
                //двуменый массив
                pts[i]=new Array(2);
            }
            //значения координат для начальных точек
            for(i=0; i<2; i++){
                pts[0][i]=a[i];
                pts[1][i]=b[i];
            }
            //Считываение индекса выбранного элемента в раскрывающемся списке
            var n = document.getElementById("mysel");
            //последовательное вычисление точек для формирования триадной кривой
            for(k=1; k<=n; k++){
                //создание нового массива для записи точек кривой
                p = new Array(4*pts.length-3);
                //вычисление точек
                for(i=0; i<pts.length; i++){
                    //создание двумерных массивов
                    for(j=0; j<4; j++){
                        p[4*i+j]=new Array(2);
                    }
                    //вычисление координат точек
                    for(j=0; j<2; j++){
                        p[4*i][j]=pts[i][j]
                        p[4*i+1][j]=Math.round(2*pts[i][j]/3+pts[i+1][j]/3);
                        p[4*i+3][j]=Math.round(pts[i][j]/3+2*pts[i+1][j]/3);
                        //угол между прямой и осью координат
                        phi=Math.atan2(p[4*i+1][1]-p[4*i+3][1],p[4*i+3][0]-p[4*i+1][0]);
                    }
                }
            }
        }

    </script>
</head>
<body>
    <h3>Листинг 9.1</h3>
    <span style="font-size: 16px">Триадная кривая Коха. Укажите количество итераций для построения кривой</span>
    <select id="mysel" size="1" style="width: 50px;text-align: right;font-size: 11px;font-weight: bold"></select><br><br>
    <canvas id="mycanvas" width="920" height="280" style="border-style: ridge"></canvas>
    <br/>
    <a href="index.html">На главную</a><br/>
    <a href="draw.html">Перейти  к рисованию</a><br/>
    <a href="enot.html">Перейти  к описанию зверей</a><br/>
    <a href="event.html">Перейти к событию координат мыши</a><br/>
    <a href="calculator.html"><b>КАЛЬКУЛЯТОР</b></a><br/>
    <a href="dispatch.html">Перейти к диспетчеризации</a><br/>
    <a href="vers.html">Перейти к стихам А. С. Пушкина</a><br/>
    <a href="images.html">Перейти к изображению</a><br/>
    <a href="watches.html">Перейти к аналоговым часам</a><br/>
    <a href="keyLogger.html">Перейти к keyLogger</a><br/>
    <a href="spoiler.html">Перейти к Spoiler</a><br/>
    <a href="wiki/index.html">Перейти к Wikir</a><br/>
</html>